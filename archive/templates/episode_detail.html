{% extends "layout.html" %}
{% block script %}
<script src="{{ url_for('static', filename='js/episode_detail.js') }}"
        data-playlist-uri="{{ url_for('tracklist_api', episode_id=ep.id) }}">
</script>
{% endblock %}

{% block body %}
<div class="container-fluid">

  <div class="row">
    <div class="media">
      <div class="media-left">
        <img class="media-object ep-thumb img-rounded" alt="pic" src="{{ ep.thumb }}">

        <ul class="list-inline text-center">
          <li>
            <span class="badge-tag badge-tag-matched" id="badge-artist-matched" data-toggle="tooltip" title="Matched">0</span>
            <span class="badge-tag" id="badge-artist-unmatched" data-toggle="tooltip" title="UnMatched">0</span>
            <span class="title-tag-status">Artists</span>
          </li>
          <li>
            <span class="badge-tag badge-tag-matched" id="badge-release-matched" data-toggle="tooltip" title="Matched">0</span>
            <span class="badge-tag" id="badge-release-unmatched" data-toggle="tooltip" title="UnMatched">0</span>
            <span class="title-tag-status">Albums</span>
          </li>
          <li>
            <span class="badge-tag badge-tag-matched" id="badge-song-matched" data-toggle="tooltip" title="Matched">0</span>
            <span class="badge-tag" id="badge-song-unmatched" data-toggle="tooltip" title="UnMatched">0</span>
            <span class="title-tag-status">Songs</span>
          </li>
        </ul>
        <hr style="margin-top: 10px">

        <p class="small ep-desc">{{ ep.description | nl2br }}</p>
      </div>
      <div class="media-body">
        <h3 class="media-heading ep-title">{{ ep.title }}</h3>

        <dl class="ep-info">
          <dt>Aired On</dt>
          <dd><span class="ep-date">{{ ep.date_pub }}</span></dd>

          {% if ep.guest %}
            <dt>Guests</dt>
            <dd><span class="label label-info ep-guest">{{ ep.guest }}</span></dd>
          {% endif %}

          <dt>Categories</dt>
          <dd>
            <span class="ep-guest">
              {% for c in ep.categories %}
                <span class="label label-success">{{ c.category }}</span>
              {% endfor %}
            </span>
          </dd>

        </dl>

        <div class="ep-actions">

          <a href="{{ ep.podcast_url }}" target="_blank" class="btn btn-default btn-circle btn-ep-play" data-toggle="tooltip" title="Play Podcast">
            <span class="glyphicon glyphicon-play"></span>
          </a>

          <button type="button" name="button" class="btn btn-default btn-circle btn-ep-plus" data-toggle="tooltip" title="Save to Your Music">
            <span class="glyphicon glyphicon-plus"></span>
          </button>

          <button type="button" name="button" class="btn btn-default btn-circle btn-ep-option">
            <span class="glyphicon glyphicon-option-horizontal"></span>
          </button>
        </div>


        <!-- Table -->
        <table class="table">
          <thead>
            <tr>
              <th class="text-center">#</th>
              <th></th>
              <th>SONG</th>
              <th>ARTIST</th>
              <th>ALBUM</th>
              <th></th>
            </tr>
          </thead>
          <tbody class="track-list">
            <tr class="track-row">

              <td class="text-center">
                <span class="small track-pos"></span>
              </td>

              <td class="track-thumb">
                <img class="track-default-thumb img-rounded" src="", alt="thumb">
              </td>

              <td class="small track-song"></td>
              <td>
                <span class="track-artist-status"></span><span class="small track-artist"></span>
              </td>
              <td>
                <span class="track-release-status"></span><span class="small track-release"></span>
              </td>

              <td class="text-center">
                <button type="button" name="button" class="btn btn-default btn-circle btn-track-plus" data-toggle="tooltip" title="Save to Your Music">
                  <span class="glyphicon glyphicon-plus"></span>
                </button>
                <button type="button" name="button" class="btn btn-default btn-circle btn-track-option">
                  <span class="glyphicon glyphicon-option-horizontal"></span>
                </button>
              </td>

            </tr>
          </tbody>
        </table>

      </div>

    </div>
  </div>

<style>
  .list-inline,
  ul {
    background-color: #373A3C;
    border-radius: 4px;
    padding: 3px 0 5px 0;
    margin: 0;
  }
  .badge-tag {
    padding: 3px 5px 3px 5px;
    border-style: hidden;
    border-radius: 15px;
    background-color: #D9534F;
    color: #373A3C;
    font-size: 10px;
    font-weight: bold;
  }
  .badge-tag-matched {
    background-color: #5CB85C;
  }
  .title-tag-status {
    font-size: 12px;
    font-weight: normal;
    color: #FFF;
  }
  .tooltip-inner {
    white-space:pre;
    max-width:none;
  }
  .ep-actions {
    float: right;
    margin-bottom: 10px;
  }
  .btn-circle {
    width: 30px;
    height: 30px;
    text-align: center;
    font-size: 14px;
    background-color: #3884FE;
    border-style: hidden;
    border-radius: 15px;
    border-color: #373A3C;
    color: #FFF;
    padding: 6px 0;
    margin-left: 8px;
  }
  .btn-ep-option {
    padding-right: 1px;
  }
  .btn-ep-plus {
    padding: 5px 1px 6px 3px;
  }
  .btn-ep-play {
    padding-left: 2px;
  }
  .label {
    font-weight: normal;
  }
  .ep-info > dt {
    font-size: small;
    font-weight: normal;
    color: #808080;
  }
  .ep-info > dd {
    padding-bottom: 5px;
    font-size: larger;
    font-weight: normal;
  }
  .container-fluid {
    margin: 0 40px 0 40px;
  }

  .media-left {
    padding-right: 40px;
  }
  .ep-desc {
    direction: rtl;
    color: #373A3C;
  }
  .ep-title {
    direction: rtl;
    text-align: left;
    margin-bottom: 10px
  }
  .ep-thumb {
    width: 340px;
    height: 340px;
    object-fit: cover;
    margin-bottom: 10px;
  }

  .table {
    margin: 20px 0 20px 0;
  }
  .table > thead > tr {
    border-top: 1px solid #ddd;
  }
  .table > thead > tr > th {
    font-weight: lighter;
    font-size: 85%;
    color: #808080;
    border-bottom: 1px solid #ddd;
    padding: 4px;
  }
  .table > tbody > tr > td {
    border-bottom: 1px solid #ddd;
    vertical-align: middle;
    top: 0;
  }

  .track-thumb > a > img,
  .track-thumb > img {
    width: 55px;
    height: 55px;
  }

  .glyphicon-exclamation-sign {
    color: #f0ad4e;
  }
  .glyphicon-question-sign {
    color: #D9534F;
  }
  .glyphicon-exclamation-sign,
  .glyphicon-question-sign {
    font-size: 130%;
  }

  .track-pos {
    color: #808080;
    font-weight: lighter;
    width: 20px;
  }

  .btn-track-option {
    padding-top: 7px;
  }
  .btn-track-option,
  .btn-track-plus {
    border: 0;
    background-color: transparent;
    color: #3884FE;
    text-align: center;
  }

</style>
{% endblock %}

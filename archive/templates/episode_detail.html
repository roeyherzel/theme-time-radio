{% extends "layout.html" %}
{% block script %}
<script src="{{ url_for('static', filename='js/episode_detail.js') }}"
        data-playlist-uri="{{ url_for('tracklist_api', episode_id=ep.id) }}">
</script>
{% endblock %}

{% block body %}
<div class="container-fluid">

  <div class="row">
    <div class="col-md-3">
      <img class="img-responsive center-block ep-thumb img-rounded" alt="pic" src="{{ ep.thumb }}">
      <hr class="hr-thin">
      <ul class="list-inline text-center">
        {% if ep.guest %}
          <li><span class="label label-guest">{{ ep.guest }}</span></li>
        {% endif %}

        {% for c in ep.categories %}
          <li><span class="label label-category">{{ c.category }}</span></li>
        {% endfor %}
      </ul>
      <hr class="hr-thin">
      <p class="ep-desc">{{ ep.description | nl2br }}</p>
    </div>

    <div class="col-md-9">
      <h3 class="media-heading ep-title">{{ ep.title }}</h3>
      <h4><span class="ep-date">{{ ep.date_pub }}</span></h4>

      <div >
        <a href="{{ ep.podcast_url }}" target="_blank" class="btn btn-default" data-toggle="tooltip" title="Play Episode">
          <span class="glyphicon glyphicon-play"></span>
        </a>
        <button type="button" name="button-ep-bookmark" class="btn btn-default" data-toggle="tooltip" title="Bookmark Episode">
          <span class="glyphicon glyphicon-star-empty"></span>
        </button>
        <button type="button" name="button-ep-played" class="btn btn-default" data-toggle="tooltip" title="Mark as Played">
          <span class="glyphicon glyphicon-headphones"></span><span> unplayed</span>
        </button>
      </div>
      <!-- Table -->
      <table class="table table-condensed">
        <thead>
          <tr>
            <th class="text-center">#</th>
            <th></th>
            <th>SONG</th>
            <th>ARTIST</th>
            <th>ALBUM</th>
            <th class="text-center"><span class="glyphicon glyphicon-bookmark"></span></th>
          </tr>
        </thead>
        <tbody class="track-list">
          <tr class="track-row">

            <td class="text-center">
              <span class="track-pos"></span>
            </td>

            <td class="track-thumb">
              <img class="track-default-thumb img-rounded" src="", alt="thumb">
            </td>

            <td class="track-song"></td>
            <td>
              <span class="track-artist-status"></span><span class="track-artist"></span>
            </td>
            <td>
              <span class="track-release-status"></span><span class="track-release"></span>
            </td>

            <td class="text-center">
              <button type="button" name="button" class="btn btn-default btn-bookmark" data-toggle="tooltip" title="Bookmark Track">
                <span class="glyphicon glyphicon-star-empty"></span>
              </button>
            </td>

          </tr>
        </tbody>
      </table>

      <!--<ul class="list-inline text-center">
        <li>
          <span class="title-tag-status">Artists</span>
          <span class="badge-tag badge-tag-matched" id="badge-artist-matched" data-toggle="tooltip" title="Matched">0</span>
          <span class="badge-tag badge-tag-pending" id="badge-artist-pending" data-toggle="tooltip" title="Pending">0</span>
          <span class="badge-tag badge-tag-unmatched" id="badge-artist-unmatched" data-toggle="tooltip" title="UnMatched">0</span>
        </li>
        <li>
          <span class="title-tag-status">Albums</span>
          <span class="badge-tag badge-tag-matched" id="badge-release-matched" data-toggle="tooltip" title="Matched">0</span>
          <span class="badge-tag badge-tag-pending" id="badge-release-pending" data-toggle="tooltip" title="Pending">0</span>
          <span class="badge-tag badge-tag-unmatched" id="badge-release-unmatched" data-toggle="tooltip" title="UnMatched">0</span>
        </li>
        <li>
          <span class="title-tag-status">Songs</span>
          <span class="badge-tag badge-tag-matched" id="badge-song-matched" data-toggle="tooltip" title="Matched">0</span>
          <span class="badge-tag badge-tag-pending" id="badge-song-pending" data-toggle="tooltip" title="Pending">0</span>
          <span class="badge-tag badge-tag-unmatched" id="badge-song-unmatched" data-toggle="tooltip" title="UnMatched">0</span>
        </li>
      </ul>-->

    </div>
  </div>
</div>

<style>
  .badge-tag {
    padding: 3px 5px 3px 5px;
    border-style: hidden;
    border-radius: 15px;
    background-color: transparent;
    color: #FFF;
    font-size: 10px;
    font-weight: bold;
  }
  .badge-tag-pending {
    background-color: #F0AD4E;
  }
  .badge-tag-unmatched {
    background-color: #D9534F;
  }
  .badge-tag-matched {
    background-color: #5CB85C;
  }
  .title-tag-status {
    font-size: 12px;
    font-weight: normal;
    color: #373A3C;
  }
  .tooltip-inner {
    white-space:pre;
    max-width:none;
  }
  .ep-actions {

  }

  .label {
    font-weight: normal;
  }
  .hr-thin {
    margin: 10px 0 10px 0;
  }
  .label-guest {
    color: black;
    background-color: #FFFF8D;
  }
  .label-category {
    color: black;
    background-color: #CCFF90;
  }

  .ep-desc {
    direction: rtl;
    font-size: 85%;
  }
  .ep-title {
    direction: rtl;
    text-align: left;
    font-weight: bold;
    margin-bottom: 10px
  }
  .ep-thumb {
    object-fit: contain;
    margin-bottom: 10px;
  }

  .table {
    margin: 20px 0 20px 0;
  }
  .table > thead > tr {
    border-top: 1px solid #ddd;
  }
  .table > thead > tr > th {
    font-weight: lighter;
    font-size: 85%;
    color: #808080;
    border-bottom: 1px solid #ddd;
    padding: 4px;
  }
  .table > tbody > tr > td {
    border-bottom: 1px solid #ddd;
    vertical-align: middle;
    top: 0;
  }

  .track-row {
    font-size: 12px;
    //color: #474747;
  }
  .track-thumb > a > img,
  .track-thumb > img {
    width: 45px;
    height: 45px;
  }
  .track-pos {
    color: #808080;
    font-weight: lighter;
    width: 20px;
  }

  .btn-bookmark {
    border: 0;
    background-color: transparent;
    padding: 3px 6px 3px 6px;
    color: #808080;
  }

  .glyphicon-exclamation-sign {
    //color: #f0ad4e;
  }
  .glyphicon-question-sign {
    color: #D9534F;
  }
  .glyphicon-exclamation-sign,
  .glyphicon-question-sign {
    font-size: 14px;
    //line-height: 18px;
  }


</style>
{% endblock %}

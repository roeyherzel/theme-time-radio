{% extends "layout.html" %}
{% block script %}
<script src="{{ url_for("static", filename="dist/js/episode_detail.js") }}"
        data-tracklist-uri="{{ url_for("episode_tracklist", episode_id=ep.id) }}">
</script>
{% endblock %}

{% block body %}
<div class="container">
  <div>
    <h1>{{ ep.attributes.title }}</h1>
  </div>
  <div class="row featurette">
    <div class="col-md-5">
      <img class="featurette-image img-responsive center-block" alt="pic" src="{{ ep.attributes.thumb }}">
    </div>
    <div class="col-md-7">
      <p>{{ ep.attributes.description | nl2br }}</p>
    </div>
  </div>
  <hr>

  <div class="row">
    <div class="col-md-9">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title text-center">Tracklist</h3>
        </div>

        <!-- Table -->
        <table class="table table-condensed">
          <thead>
          </thead>
          <tbody class="track-list">
            <tr class="track-row">
              <td class="track-edit">
                <div class="glyp-button glyphicon glyphicon-edit"></div>
              </td>
              <td class="track-fav">
                <div class="glyp-button glyphicon glyphicon-star-empty"></div>
              </td>
              <td class="track-pos text-center"></td>
              <td class="track-thumb">
                <img src="/static/images/default-release-cd1.png", alt="thumb">
              </td>
              <td class="track-title">
                <div>
                  <span class="text-muted glyphicon glyphicon-music"></span>
                  <span class="track-song"></span>
                </div>
                <div>
                  <span class="text-muted glyphicon glyphicon-cd"></span>
                  <span class="small track-artist"></span> / <span class="small track-release"></span>
                </div>
              </td>
              <td class="track-agg-status"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="col-md-3">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title text-center">Tag Statistics</h3>
        </div>
        <ul class="list-group">
          <li class="list-group-item"><span class="badge status-full" id='badge-full'>0</span>Tracks Matched Fully</li>
          <li class="list-group-item"><span class="badge status-half" id='badge-half'>0</span>Tracks Matched Artist Only</li>
          <li class="list-group-item"><span class="badge status-pending" id='badge-pending'>0</span>Tracks Pending Tag Selection</li>
          <li class="list-group-item"><span class="badge status-unmatched" id='badge-unmatched'>0</span>Tracks Un-Matched</li>
          <li class="list-group-item"><span class="badge" id='badge-not-song'>0</span>Tracks Not Songs</li>
        </ul>
      </div>
    </div>

  </div>
</div>

<style>
  .glyphicon-cd,
  .glyphicon-music {
    padding-right: 10px;
  }
  h1 {
    padding-top: 40px;
    text-align: center;
    direction: rtl;
  }
  .track-thumb > a > img,
  .track-thumb > img {
    width: 55px;
    height: 55px;
  }
  .featurette {
    padding-top: 50px;
    direction: rtl;
  }
  .glyphicon-exclamation-sign {
    color: #f0ad4e;
  }
  .glyphicon-question-sign {
    color: #D9534F;
  }

  #badge-full {
    background-color: white;
    color: black;
    border: 1px solid black;
  }
  .status-half {
    background-color: #5CB85C;
  }
  .status-pending {
    background-color: #f0ad4e;
  }
  .status-unmatched {
    background-color: #D95551;
  }
  .status-not-song {
    background-color: #777777;
  }

  .track-fav {
    border-right: 1px solid #ddd;
  }
  .track-fav,
  .track-edit {
    font-size: 18px;
    text-align: center;
  }

  .track-agg-status {
    width: 10px;
  }
  .table > tbody > tr > td {
    vertical-align: middle;
  }

</style>
{% endblock %}
